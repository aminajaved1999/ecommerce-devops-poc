{% extends "store/base.html" %}

{% block content %}
    <h1 class="display-5 fw-bold">Welcome to Ipswich Retail</h1>
    <p class="fs-4">Our Products</p>
    <hr class="my-4">

    <div class="row">
        {% if products %}
            {% for product in products %}
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">{{ product.name }}</h5>
                        <h6 class="card-subtitle mb-2 text-muted">Â£{{ product.price }}</h6>
                        <p class="card-text">{{ product.description|truncatewords:15 }}</p>
                        <a href="{% url 'product_detail' product.pk %}" class="btn btn-primary mt-auto">View Details</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="col">
                <p class="lead">No products available right now.</p>
            </div>
        {% endif %}
    </div>
{% endblock %}